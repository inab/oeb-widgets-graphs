<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.8.0 -->
  <link rel="icon" type="image/x-icon" href="{{ site.baseurl }}/assets/image/favicon.ico">
  <title>OEB-Widgets-Graphs A graph collection made by OEB services</title>
  <meta name="generator" content="Jekyll v4.3.3" />
  <meta property="og:title" content="OEB-Widgets-Graphs A graph collection made by OEB services" />
  <meta property="og:locale" content="en_US" />
  <meta name="description" content="This is a collection of graphs made by OEB services" />
  <meta property="og:description" content="This is a collection of graphs made by OEB services" />
  <link rel="canonical" href="http://localhost:4000/" />
  <meta property="og:url" content="http://localhost:4000/" />
  <meta property="og:site_name" content="OEB-Widgets-Graphs A graph collection made by OEB services" />
  <meta property="og:type" content="website" />
  <meta name="twitter:card" content="summary" />
  <meta property="twitter:title" content="OEB-Widgets-Graphs A graph collection made by OEB services" />
  <script type="application/ld+json">
  {"@context":"https://schema.org","@type":"WebSite","description":"Write an awesome description for your new site here. You can edit this line in _config.yml. It will appear in your document head meta (for Google search results) and in your feed.xml site description.","headline":"OEB-Widgets-Graphs A graph collection made by OEB services","name":"OEB-Widgets-Graphs A graph collection made by OEB services","url":"http://localhost:4000/"}</script>
  <!-- End Jekyll SEO tag -->
  <link rel="stylesheet" href="{{ site.baseurl }}/assets/main.css">
  <link rel="stylesheet" href="{{ site.baseurl }}/assets/prism.css">
  <script src="{{ site.baseurl }}/assets/prism.js" defer="defer"></script>
  <link type="application/atom+xml" rel="alternate" href="http://localhost:4000/feed.xml" title="OEB-Widgets-Graphs | A graph collection made by OEB services" /></head>
  <body>
    <header class="site-header" role="banner">
      <div class="wrapper">
        <nav class="site-nav">
          <div class="site-title">
            <a class="site-title-link" rel="author" href="{{ site.baseurl }}/">
              <img src="{{ site.baseurl }}/assets/image/opeb_logo_white_minimal.png" alt="OEB Logo" style="width: 100px; height: 70px;" />
            </a>
            <span class="site-title-text">
              OEB Widgets Graphs Docs
            </span>
            <div class="site-title-version">
              V1.0.8
              <span class="site-title-version-git"><a href="https://github.com/inab/oeb-widgets-graphs" ref="GITHUB">GITHUB</a></span>
            </div>
          </div>
          <input type="checkbox" id="nav-trigger" class="nav-trigger" />
          <label for="nav-trigger">
            <span class="menu-icon">
              <svg viewBox="0 0 18 15" width="18px" height="15px">
                <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
              </svg>
            </span>
          </label>
        </nav>
      </div>
  </header>
  <main class="page-content" aria-label="Content">
    <div class="wrapper">
      <div class="home">
        <div class="subtitle large-text color-primary border-primary">
          Line plot overview
        </div>
        <div class="home-description-page">
          <div class="home-description-content">
            <p class="medium-text">
              Line plots display the results of a benchmarking challenge, showcasing trends or changes in the dataset over a continuous range. The challenge metric is represented on the Y-axis by default, with the X-axis typically indicating time or another continuous variable.
            <div class="home-description-section">
              <div class="subtitle mediu-large-text color-primary">Usage</div>
              <div class="subtitle-section">
              <p>
                Add the installed package to your HTML file.
              </p>
              <p><pre><code class="language-javascript">let graphData = {
            "_id": "OEBDTEST0000006",
            "dates": {
              "modification": "2023-05-27T19:18:32Z"
            },
            "inline_data": {
              "series_type": "aggregation-data-series",
              "challenge_participants": [
                {
                  "label": "Tool_1",
                  "metric_id": "FPR",
                  "values": [
                    0.00, 0.2143, 0.2887, 0.3636, 0.3882, 0.4564, 0.52, 0.5501, 0.5673,
                    0.6324, 0.6455, 0.6620, 0.7271, 0.7310, 0.7638, 0.8006, 0.8165, 0.8216,
                    0.8810, 0.8899, 0.9229, 0.9354, 0.9474, 0.9989, 1.0
                  ]
                },
                {
                  "label": "Tool_1",
                  "metric_id": "TPR",
                  "values": [
                    {"v": 0.0, "e": 0.023}, {"v": 0.0417, "e": 0.038}, {"v": 0.0833, "e": 0.029},
                    {"v": 0.1250, "e": 0.045}, {"v": 0.1667, "e": 0.032}, {"v": 0.2083, "e": 0.052},
                    {"v": 0.25, "e": 0.041}, {"v": 0.2917, "e": 0.034}, {"v": 0.3333, "e": 0.028},
                    {"v": 0.3750, "e": 0.047}, {"v": 0.4167, "e": 0.033}, {"v": 0.4583, "e": 0.039},
                    {"v": 0.5, "e": 0.021}, {"v": 0.5417, "e": 0.055}, {"v": 0.5833, "e": 0.044},
                    {"v": 0.6250, "e": 0.026}, {"v": 0.6667, "e": 0.058}, {"v": 0.7083, "e": 0.022},
                    {"v": 0.75, "e": 0.030}, {"v": 0.7917, "e": 0.035}, {"v": 0.8333, "e": 0.049},
                    {"v": 0.8750, "e": 0.042}, {"v": 0.9167, "e": 0.027}, {"v": 0.9583, "e": 0.053},
                    {"v": 1.0, "e": 0.025}
                  ]
                },
                {
                  "label": "Tool_2",
                  "metric_id": "FPR",
                  "values": [
                    0.03, 0.0417, 0.0633, 0.1350, 0.2067, 0.22, 0.2583, 0.2817, 0.3533,
                    0.3750, 0.4383, 0.4467, 0.55, 0.5517, 0.5833, 0.6267, 0.6550, 0.7183,
                    0.74, 0.8317, 0.8333, 0.8950, 0.9283, 0.9667, 1.0
                  ]
                },
                {
                  "label": "Tool_2",
                  "metric_id": "TPR",
                  "values": [
                    {"v": 0.0,"e": 0.065}, {"v": 0.0417,"e": 0.049}, {"v": 0.0833,"e": 0.074},
                    {"v": 0.1250,"e": 0.058}, {"v": 0.1667,"e": 0.033}, {"v": 0.25,"e": 0.046},
                    {"v": 0.2083,"e": 0.081}, {"v": 0.2917,"e": 0.029}, {"v": 0.3333,"e": 0.090},
                    {"v": 0.3750,"e": 0.054}, {"v": 0.4583,"e": 0.037}, {"v": 0.4167,"e": 0.061},
                    {"v": 0.5,"e": 0.068}, {"v": 0.5417,"e": 0.075}, {"v": 0.5833,"e": 0.042},
                    {"v": 0.6667,"e": 0.080}, {"v": 0.6250,"e": 0.059}, {"v": 0.7083,"e": 0.036},
                    {"v": 0.75,"e": 0.045}, {"v": 0.7917,"e": 0.062}, {"v": 0.8333,"e": 0.070},
                    {"v": 0.8750,"e": 0.055}, {"v": 0.9583,"e": 0.048}, {"v": 0.9167,"e": 0.084},
                    {"v": 1.0,"e": 0.078}
                  ]
                }
              ],
              "visualization": {
                "available_metrics": [
                  "FPR",
                  "TPR"
                ],
                "representations": [
                  {
                    "type": "line-plot",
                    "metrics_series": [
                      {
                        "metric_id": "FPR",
                        "title": "False Positive Rate (FPR)",
                        "optimization": "minimize",
                        "axis": "x"
                      },
                      {
                        "metric_id": "TPR",
                        "title": "True Positive Rate (TPR)",
                        "optimization": "maximize",
                        "axis": "y"
                      }
                    ],
                    "type_group_id": "line-plot-1"
                  }
                ]
              },
              "labels": [
                  {
                    "label": "Tool_1",
                    "dataset_orig_id": "OEBDTOOL10001"
                  },
                  {
                    "label": "Tool_2",
                    "dataset_orig_id": "OEBDTOOL00002"
                  }
              ]
            }
          }

</code></pre>
              </p>
              <pre>
                <code class="language-javascript">
        const graphType=JSON.stringify("line-plot");

        const myComp = document.getElementById('widget-element');
                </code>
              </pre>
              <p>
              <pre>
                <code class="language-javascript">
        // Create new data object
        let dataObj = {
          _id: graphData._id,
          dates: graphData.dates,
          dataset_contact_ids: graphData.dataset_contact_ids,
          inline_data: {
            challenge_participants:[],
            visualization:{}
          }
        }

        // Get axis information
        const x_axis = graphData?.inline_data?.visualization?.representations?.find(
          (representation) => representation.metrics_series.some((metric) => metric.axis === 'x')
      )?.metrics_series.find((metric) => metric.axis === 'x');

      const y_axis = graphData?.inline_data?.visualization?.representations?.find(
          (representation) => representation.metrics_series.some((metric) => metric.axis === 'y')
      )?.metrics_series.find((metric) => metric.axis === 'y');

      // Get the data for the graph
      graphData?.inline_data?.challenge_participants.forEach(participant => {
        let x_value = function() {
            if (x_axis.metric_id === participant.metric_id) {
                return participant.values;
            }
            return null;
        };

        let y_value = function() {
            if (y_axis.metric_id === participant.metric_id) {
                return participant.values;
            }
            return null;
        };

        let participant_new = dataObj.inline_data.challenge_participants.find(p => p.name === participant.label);
        if(!participant_new) {
            participant_new = {
                metric_id: participant.metric_id,
                name: participant.label,
                x_value: [],
                y_value: [],
                t_error: [],
                x_optimization: '',
                y_optimization: ''
            }
            dataObj.inline_data.challenge_participants.push(participant_new);
        }

        let x_result = x_value();
        if (x_result) {
            participant_new.x_value = [...participant_new.x_value, ...x_result];
        }

        let y_result = y_value();
        if (y_result) {
            let new_axis = {
                y_value_axis: y_result.map(({v}) => v),
                error_value_axis: y_result.map(({e}) => e)
            }

            participant_new.y_value = [...participant_new.y_value, ...new_axis.y_value_axis];
            participant_new.t_error = [...participant_new.t_error, ...new_axis.error_value_axis];
        }
      });

      // Get the type of the graph
      let type = JSON.parse(graphType);

      // Fill new data object
      dataObj.inline_data.visualization = {
        x_axis: x_axis.title,
        y_axis: y_axis.title,
        x_optimization: x_axis.optimization ?? 'maximize',
        y_optimization: y_axis.optimization ?? 'maximize',
        type: type,
        dates: ''
      };

      graphData = JSON.stringify(dataObj);

      myComp.type = type;
      myComp.data = graphData;
                </code>
              </pre>
            </p>
            </div>
        </div>
    </div>
    <div class="widget-box">
      Example
      <widget-element
      id="widget-element"
      type=""
      data=""
      >
      </widget-element>
    </div>
    
  </main>
  <footer class="site-footer h-card">
    <data class="u-url" href="/"></data>
    <div class="wrapper">
      <h2 class="footer-heading">OEB-Widgets-Graphs | A graph collection made by OEB services</h2>
    </div>
    <script type="module" src="https://cdn.jsdelivr.net/gh/inab/oeb-widgets-graphs@57ed2b6/dist/oeb-widgets-graphs.umd.js"></script>
    <script>
      let graphData = {
  "_id": "OEBDTEST0000006",
  "dates": {
    "modification": "2023-05-27T19:18:32Z"
  },
  "inline_data": {
    "series_type": "aggregation-data-series",
    "challenge_participants": [
      {
        "label": "Tool_1",
        "metric_id": "FPR",
        "values": [
          0.00,
          0.2143,
          0.2887,
          0.3636,
          0.3882,
          0.4564,
          0.52,
          0.5501,
          0.5673,
          0.6324,
          0.6455,
          0.6620,
          0.7271,
          0.7310,
          0.7638,
          0.8006,
          0.8165,
          0.8216,
          0.8810,
          0.8899,
          0.9229,
          0.9354,
          0.9474,
          0.9989,
          1.0
        ]
      },
      {
        "label": "Tool_1",
        "metric_id": "TPR",
        "values": [
          {"v": 0.0, "e": 0.023},
          {"v": 0.0417, "e": 0.038},
          {"v": 0.0833, "e": 0.029},
          {"v": 0.1250, "e": 0.045},
          {"v": 0.1667, "e": 0.032},
          {"v": 0.2083, "e": 0.052},
          {"v": 0.25, "e": 0.041},
          {"v": 0.2917, "e": 0.034},
          {"v": 0.3333, "e": 0.028},
          {"v": 0.3750, "e": 0.047},
          {"v": 0.4167, "e": 0.033},
          {"v": 0.4583, "e": 0.039},
          {"v": 0.5, "e": 0.021},
          {"v": 0.5417, "e": 0.055},
          {"v": 0.5833, "e": 0.044},
          {"v": 0.6250, "e": 0.026},
          {"v": 0.6667, "e": 0.058},
          {"v": 0.7083, "e": 0.022},
          {"v": 0.75, "e": 0.030},
          {"v": 0.7917, "e": 0.035},
          {"v": 0.8333, "e": 0.049},
          {"v": 0.8750, "e": 0.042},
          {"v": 0.9167, "e": 0.027},
          {"v": 0.9583, "e": 0.053},
          {"v": 1.0, "e": 0.025}
        ]
      },
      {
        "label": "Tool_2",
        "metric_id": "FPR",
        "values": [
          0.03,
          0.0417,
          0.0633,
          0.1350,
          0.2067,
          0.22,
          0.2583,
          0.2817,
          0.3533,
          0.3750,
          0.4383,
          0.4467,
          0.55,
          0.5517,
          0.5833,
          0.6267,
          0.6550,
          0.7183,
          0.74,
          0.8317,
          0.8333,
          0.8950,
          0.9283,
          0.9667,
          1.0
        ]
      },
      {
        "label": "Tool_2",
        "metric_id": "TPR",
        "values": [
          {"v": 0.0,"e": 0.065},
          {"v": 0.0417,"e": 0.049},
          {"v": 0.0833,"e": 0.074},
          {"v": 0.1250,"e": 0.058},
          {"v": 0.1667,"e": 0.033},
          {"v": 0.25,"e": 0.046},
          {"v": 0.2083,"e": 0.081},
          {"v": 0.2917,"e": 0.029},
          {"v": 0.3333,"e": 0.090},
          {"v": 0.3750,"e": 0.054},
          {"v": 0.4583,"e": 0.037},
          {"v": 0.4167,"e": 0.061},
          {"v": 0.5,"e": 0.068},
          {"v": 0.5417,"e": 0.075},
          {"v": 0.5833,"e": 0.042},
          {"v": 0.6667,"e": 0.080},
          {"v": 0.6250,"e": 0.059},
          {"v": 0.7083,"e": 0.036},
          {"v": 0.75,"e": 0.045},
          {"v": 0.7917,"e": 0.062},
          {"v": 0.8333,"e": 0.070},
          {"v": 0.8750,"e": 0.055},
          {"v": 0.9583,"e": 0.048},
          {"v": 0.9167,"e": 0.084},
          {"v": 1.0,"e": 0.078}
        ]
      }
    ],
    "visualization": {
      "available_metrics": [
        "FPR",
        "TPR"
      ],
      "representations": [
        {
          "type": "line-plot",
          "metrics_series": [
            {
              "metric_id": "FPR",
              "title": "False Positive Rate (FPR)",
              "optimization": "minimize",
              "axis": "x"
            },
            {
              "metric_id": "TPR",
              "title": "True Positive Rate (TPR)",
              "optimization": "maximize",
              "axis": "y"
            }
          ],
          "type_group_id": "line-plot-1"
        }
      ]
    },
    "labels": [
        {
          "label": "Tool_1",
          "dataset_orig_id": "OEBDTOOL10001"
        },
        {
          "label": "Tool_2",
          "dataset_orig_id": "OEBDTOOL00002"
        }
    ]
  }
}
      const graphType = JSON.stringify("line-plot");
      const myComp = document.getElementById('widget-element');

      let dataObj = {
        _id: graphData._id,
        dates: graphData.dates,
        dataset_contact_ids: graphData.dataset_contact_ids,
        inline_data: {
          challenge_participants:[],
          visualization:{}
        }
      }

      const x_axis = graphData?.inline_data?.visualization?.representations?.find(
          (representation) => representation.metrics_series.some((metric) => metric.axis === 'x')
      )?.metrics_series.find((metric) => metric.axis === 'x');

      const y_axis = graphData?.inline_data?.visualization?.representations?.find(
          (representation) => representation.metrics_series.some((metric) => metric.axis === 'y')
      )?.metrics_series.find((metric) => metric.axis === 'y');

      graphData?.inline_data?.challenge_participants.forEach(participant => {
        let x_value = function() {
            if (x_axis.metric_id === participant.metric_id) {
                return participant.values;
            }
            return null;
        };

        let y_value = function() {
            if (y_axis.metric_id === participant.metric_id) {
                return participant.values;
            }
            return null;
        };

        let participant_new = dataObj.inline_data.challenge_participants.find(p => p.name === participant.label);
        if(!participant_new) {
            participant_new = {
                metric_id: participant.metric_id,
                name: participant.label,
                x_value: [],
                y_value: [],
                t_error: [],
                x_optimization: '',
                y_optimization: ''
            }
            dataObj.inline_data.challenge_participants.push(participant_new);
        }

        let x_result = x_value();
        if (x_result) {
            participant_new.x_value = [...participant_new.x_value, ...x_result];
        }

        let y_result = y_value();
        if (y_result) {
            let new_axis = {
                y_value_axis: y_result.map(({v}) => v),
                error_value_axis: y_result.map(({e}) => e)
            }

            participant_new.y_value = [...participant_new.y_value, ...new_axis.y_value_axis];
            participant_new.t_error = [...participant_new.t_error, ...new_axis.error_value_axis];
        }
      });

      // Change the type and data of the graph
      let type = JSON.parse(graphType);

      dataObj.inline_data.visualization = {
        x_axis: x_axis.title,
        y_axis: y_axis.title,
        x_optimization: x_axis.optimization ?? 'maximize',
        y_optimization: y_axis.optimization ?? 'maximize',
        type: type,
        dates: ''
      };

      graphData = JSON.stringify(dataObj);

      myComp.type = type;
      myComp.data = graphData;
    </script>
  </footer>
  </body>
</html>
